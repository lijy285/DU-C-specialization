#include <stdio.h>
#include <stdlib.h>
#include <assert.h>
#include "deck.h"


void print_hand(deck_t * hand){
  for(size_t i = 0; i<hand->n_cards; i++){
    print_card(*(hand->cards[i]));
    printf(" ");
  }
}

int deck_contains(deck_t * d, card_t c) {
  for(size_t i = 0; i < d->n_cards; i++){
    if(c.value==d->cards[i]->value && c.suit == d->cards[i]->suit){
      return 1;
    }
  }
  return 0;
}

void shuffle(deck_t * d){
  if(d==NULL || d->n_cards <= 1)
    return;
  for(size_t i = d->n_cards; i>0; i--){
    size_t j = random() % (i+1);
    card_t * temp = d->cards[i];
    d->cards[i] = d->cards[j];
    d-cards[j] = temp;
  }
}

void assert_full_deck(deck_t * d) {
  for(unsigned v = 2; v <= 14; v++){
    for(suit_t s = SPADES; s < NUM_SUITS; s++){
      card_t c;
      c.value = v;
      c.suit = s;
      assert( deck_contains(d, c) && "Deck missing a card!");
    }
  }
  assert(d->n_card==52 && "Deck should contain 52 cards");
}
